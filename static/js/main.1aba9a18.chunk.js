(this.webpackJsonpchallenge=this.webpackJsonpchallenge||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/logo.77a82d5d.svg"},20:function(e,t,a){e.exports=a.p+"static/media/default.ed492c24.png"},23:function(e,t,a){e.exports=a(64)},28:function(e,t,a){},30:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},5:function(e,t,a){e.exports=a.p+"static/media/money.dec62e66.svg"},50:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),l=a.n(r),s=(a(28),a(7)),i=a(2),o=a.n(i),u=a(4),m=a(1),d=(a(30),a(6)),p=Object(n.createContext)(null),E=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1],s=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d("https://coding-challenge-api.aerolab.co/user/me",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE"}});case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c.a.createElement(p.Provider,{value:[r,l]},e.children)},f=(a(48),a(5)),b=a.n(f),j=a(19),h=a.n(j),O=function(e){var t=Object(n.useContext)(p),a=Object(m.a)(t,2),r=a[0];a[1];return c.a.createElement("nav",null,c.a.createElement("div",{className:"nav__logo"},c.a.createElement("img",{className:"scale-in-center",src:h.a})),c.a.createElement("ul",null,c.a.createElement("li",{className:"nav__user"}," ",c.a.createElement("h3",{className:"scale-in-center"},r.name),"   "),c.a.createElement("li",{className:"nav__points scale-in-center"},"  ",c.a.createElement("h3",{className:""}," ",r.points," ")," ",c.a.createElement("img",{className:"",src:b.a})," ")))},v=(a(49),a(20)),N=a.n(v),g=a(22),_=(a(50),a(6)),I=function(e){var t=e.product,a=Object(n.useContext)(p),r=Object(m.a)(a,2),l=r[0],s=r[1],i=Object(n.useState)(!1),d=Object(m.a)(i,2),E=(d[0],d[1]),f=Object(n.useState)(!1),j=Object(m.a)(f,2),h=j[0],O=j[1],v=function(){var e=Object(u.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!(l.points>=t.cost)){e.next=4;break}return e.next=4,_({method:"post",url:"https://coding-challenge-api.aerolab.co/redeem",data:{productId:t._id},headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE"}}).then((function(e){var a=l.points-t.cost,n=Object(g.a)({},l);n.points=a,s(n),E(!0),O(!0)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",null,l.points<t.cost&&c.a.createElement("div",{className:"card__inactive card__item"},c.a.createElement("div",{className:"card__details"},c.a.createElement("div",{className:"card__points"},c.a.createElement("h3",null,t.cost," ")," ",c.a.createElement("img",{src:b.a})),c.a.createElement("button",{disabled:!0},"You can\xb4t redeem"),c.a.createElement("p",{className:"alert__points"}," You need ",t.cost-l.points," points"))),l.points>=t.cost&&c.a.createElement("div",{className:"card__active card__item",onClick:function(e){return v(e)}},!h&&c.a.createElement("div",{className:"card__details"},c.a.createElement("div",{className:"card__points"},c.a.createElement("h3",null,t.cost," ")," ",c.a.createElement("img",{src:b.a})),c.a.createElement("button",null,"Reedem now")),h&&c.a.createElement("div",{className:"card__details"},c.a.createElement("div",{className:"success__points "},c.a.createElement("h3",null,"You have now ")," ",c.a.createElement("h1",null,l.points)," ",c.a.createElement("img",{src:b.a}))))))},w=a(21),C=a.n(w),k=(a(6),function(e){var t=e.productsState,a=(e.animateProduct,Object(n.useContext)(p)),r=Object(m.a)(a,2),l=(r[0],r[1],Object(n.useRef)(Object(s.a)(t).map((function(){return Object(n.createRef)()})))),i=Object(n.useState)(!1),o=Object(m.a)(i,2),u=o[0],d=o[1],E=Object(n.useState)(""),f=Object(m.a)(E,2),b=f[0],j=f[1],h=Object(n.useState)(!1),O=Object(m.a)(h,2),v=O[0];O[1];Object(n.useEffect)((function(){console.log("success!! press")}),[v]);return c.a.createElement("ul",{className:"products"},t.map((function(e,t){return c.a.createElement(c.a.Fragment,{key:e._id},c.a.createElement("li",{className:"products__item",onMouseEnter:function(t){return function(e,t){d(!0),j(e._id)}(e)},onMouseLeave:function(t){return function(e,t){d(!1),j(e._id)}(e)}},u&&b===e._id&&c.a.createElement(I,{product:e}),c.a.createElement("div",{className:"message",ref:l.current[e._id]}),c.a.createElement("div",{className:"products__details"},c.a.createElement("figure",null,c.a.createElement(C.a,{src:e.img.url,className:"products__img scale-in-center",unloader:c.a.createElement("img",{className:"products__default",src:N.a})})),c.a.createElement("div",{className:"products__title "},c.a.createElement("p",null,e.category),c.a.createElement("h3",null,e.name),c.a.createElement("p",null,c.a.createElement("b",null,e.cost)," points")))))})))}),J=a(6),x=Object(n.createContext)(null),y=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1],s=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE"}});case 2:return t=e.sent,e.next=5,t.data;case 5:a=e.sent,l(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),c.a.createElement(x.Provider,{value:[r,l]},e.children)},S=function(e){var t=e.allItems,a=e.currentItems,r=Object(n.useContext)(x),l=Object(m.a)(r,2);l[0],l[1];return c.a.createElement("p",null,a," of ",t," products ")},Y=function(e){return c.a.createElement("div",{className:"banner"})},Q=a(66),z=a(6),D=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1],i=Object(n.useState)("recent"),d=Object(m.a)(i,2),p=d[0],f=d[1],b=Object(n.useState)(10),j=Object(m.a)(b,2),h=j[0],v=j[1],N=Object(n.useState)(""),g=Object(m.a)(N,2),_=g[0],I=g[1],w=Object(n.useState)(!1),C=Object(m.a)(w,2),J=C[0],x=C[1],D=Object(n.useState)(!0),M=Object(m.a)(D,2),A=M[0],R=M[1],T=Object(n.useState)(1),V=Object(m.a)(T,2),L=V[0],P=V[1],W=Object(n.useState)([]),B=Object(m.a)(W,2),G=B[0],U=B[1],X=Object(n.useState)(!1),F=Object(m.a)(X,2),Z=F[0],H=F[1];Object(n.useEffect)((function(){q()}),[]),Object(n.useEffect)((function(){var e=r.slice(10*L-10,10*L);U(e)}),[L,r]);var $=function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=G.length,"prev"==t&&(I("prev"),n>0&&(v(h-n),P(L-1))),"next"==t&&(I("next"),n>0&&P(L+1));case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e=G.length;if(0===e&&P(1),"initial"==_&&(x(!1),R(!0)),"next"===_){var t=h+e;v(t),t===r.length?x(!0):R(!1)}"prev"===_&&(h<=10?(R(!0),x(!1)):(R(!1),x(!1)));var a=new Q.a({paused:!1});a.set(document.getElementsByClassName("products__item"),{autoAlpha:0,y:-20}),a.staggerTo(document.getElementsByClassName("products__item"),1,{autoAlpha:1,y:0},.1)}),[G]);var q=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z("https://coding-challenge-api.aerolab.co/products",{headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE"}});case 2:return t=e.sent,e.next=5,t.data;case 5:a=e.sent,I("initial"),f("recent"),P(1),v(10),l(a);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){var t=Object(s.a)(r).sort((function(e,t){return e.cost-t.cost}));I("initial"),f("lower"),P(1),v(10),l(t),H(!0)},ee=function(e){var t=Object(s.a)(r).sort((function(e,t){return t.cost-e.cost}));I("initial"),f("highest"),P(1),v(10),l(t)};return c.a.createElement(E,null,c.a.createElement(y,null,c.a.createElement("div",{className:"App"},c.a.createElement(O,null),c.a.createElement(Y,null),c.a.createElement("main",null,c.a.createElement("section",{className:"container"},c.a.createElement("ul",{className:"container__search"},c.a.createElement("li",null,c.a.createElement(S,{allItems:r.length,currentItems:h})),c.a.createElement("li",null,c.a.createElement("div",{className:"container__filters"},c.a.createElement("p",null,"Sort by: "),c.a.createElement("ul",null,"recent"===p&&c.a.createElement("li",{className:"active jello-horizontal disabled",onClick:q},"Most Recent"),"recent"!=p&&c.a.createElement("li",{className:"hvr-grow",onClick:q},"Most Recent"),"lower"===p&&c.a.createElement("li",{className:"active jello-horizontal disabled",onClick:K},"Lower Price"),"lower"!=p&&c.a.createElement("li",{className:"hvr-grow",onClick:K},"Lower Price"),"highest"===p&&c.a.createElement("li",{className:"active jello-horizontal disabled",onClick:ee},"Highest Price"),"highest"!=p&&c.a.createElement("li",{className:"hvr-grow",onClick:ee},"Highest Price"))),c.a.createElement("ul",{className:"pagination"},c.a.createElement("button",{disabled:A,className:A?"hidden arrow round":"arrow round ",onClick:function(e){return $("prev",e)}},"\u2039"),c.a.createElement("button",{disabled:J,className:J?"hidden arrow round":"arrow round",onClick:function(e){return $("next",e)}},"\u203a")))),c.a.createElement(k,{className:"hvr-grow",productsState:G,animation:Z}),c.a.createElement("ul",{className:"footer"},c.a.createElement("li",null," ",c.a.createElement("p",null,h," of ",r.length," products ")," "),c.a.createElement("li",null,c.a.createElement("ul",{className:"pagination"},c.a.createElement("button",{disabled:A,className:A?"hidden arrow round":"arrow round",onClick:function(e){return $("prev",e)}},"\u2039"),c.a.createElement("button",{disabled:J,className:J?"hidden arrow round":"arrow round",onClick:function(e){return $("next",e)}},"\u203a")))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.1aba9a18.chunk.js.map