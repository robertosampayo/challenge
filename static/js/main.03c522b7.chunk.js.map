{"version":3,"sources":["assets/img/logo.svg","assets/img/default.png","providers/UserProvider.js","components/Nav/Nav.js","components/ProductsCard/ProductsCard.js","components/Products/Products.js","providers/ProductProvider.js","ItemsNumber.js","Banner.js","App.js","serviceWorker.js","index.js","assets/img/money.svg"],"names":["module","exports","axios","require","UserContext","createContext","UserProvider","props","useState","user","setUser","fetchData","a","headers","result","data","useEffect","Provider","value","children","Nav","useContext","className","src","logo","name","points","money","ProductsCard","product","setSuccess","redeem","setRedeem","redeemProduct","e","preventDefault","cost","method","url","_id","then","response","newPoints","newUser","Fragment","disabled","onClick","gsap","registerPlugin","CSSPlugin","Products","productsState","animateProduct","itemRefs","useRef","map","createRef","showCard","setShowCard","productKey","setProductKey","successCard","pointsUpdate","setPointsUpdate","current","style","pointerEvents","TweenMax","to","opacity","setTimeout","hideSuccess","console","log","onComplete","ref","i","key","onMouseEnter","event","showReddemOption","onMouseLeave","hideReddemOption","img","unloader","defaultImg","category","ProductContext","ProductProvider","products","setProducts","fetchProduct","ItemsNumber","allItems","currentItems","Banner","App","filterActive","setFilterActive","items","setItems","action","setAction","nextDisabled","setNextDisabled","prevDisabled","setPrevDisabled","currentPage","setCurrentPage","currentData","setCurrentData","setAnimateProduct","getProducts","total","slice","changePage","direction","numbersOfProducts","length","t2","TimelineLite","paused","set","document","getElementsByClassName","autoAlpha","y","staggerTo","getLowerPrice","newProducts","sort","b","getHighestPrice","animation","Boolean","window","location","hostname","match","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.03c522b7.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.77a82d5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/default.ed492c24.png\";","import React, { useState, createContext, useEffect  } from 'react'\r\n\r\nconst axios = require('axios');\r\n\r\nconst token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE';\r\n\r\n\r\nexport const UserContext = createContext(null);\r\n\r\nexport const UserProvider = props => {\r\n\r\n    const [user, setUser] = useState([]);\r\n\r\n\r\n\r\n        const fetchData = async () => {\r\n            const result = await axios(\r\n                'https://coding-challenge-api.aerolab.co/user/me',\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                        'Accept': 'application/json',\r\n                        'Authorization': token,\r\n\r\n                    },\r\n                }\r\n            );\r\n            setUser(result.data);\r\n\r\n\r\n        };\r\n\r\n        useEffect(() => { fetchData(); }, []);\r\n\r\n\r\n\r\n    return (\r\n\r\n        <UserContext.Provider value={[user, setUser]}>\r\n            {props.children}\r\n\r\n        </UserContext.Provider>\r\n\r\n    );\r\n}","import React, { useState, useContext, useEffect, useRef, Fragment } from 'react';\r\nimport { UserContext } from '../../providers/UserProvider';\r\nimport './Nav.css';\r\nimport money from '../../assets/img/money.svg';\r\nimport logo from '../../assets/img/logo.svg';\r\n\r\n\r\nconst Nav = (props) => {\r\n\r\n    const [user, setUser] = useContext(UserContext);\r\n\r\n\r\n\r\n    return (\r\n\r\n        <nav>\r\n            <div className=\"nav__logo\">\r\n                <img className=\"scale-in-center\" src={logo} ></img>\r\n\r\n            </div>\r\n            <ul>\r\n\r\n                <li className=\"nav__user\"> <h3 className=\"scale-in-center\">{user.name}</h3>   </li>\r\n                <li className=\"nav__points scale-in-center\" >  <h3 className=\"\"> {user.points} </h3> <img className=\"\" src={money} ></img> </li>\r\n            </ul>\r\n\r\n\r\n        </nav>\r\n\r\n\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default Nav;","import React, { useState, useContext, useEffect, Fragment } from 'react';\r\nimport { getHighestPrice } from '../Products/Products';\r\nimport './ProductsCard.css';\r\nimport money from '../../assets/img/money.svg';\r\nimport { UserContext } from '../../providers/UserProvider';\r\n\r\n\r\nconst axios = require('axios');\r\n\r\nconst ProductsCard = ({ product }) => {\r\n\r\n    const [user, setUser] = useContext(UserContext);\r\n    const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE';\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const [redeem, setRedeem] = useState(false);\r\n\r\n\r\n\r\n    const redeemProduct = async (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        if (user.points >= product.cost) {\r\n\r\n            await axios({\r\n                method: 'post',\r\n                url: 'https://coding-challenge-api.aerolab.co/redeem',\r\n                data: {\r\n                    'productId': product._id,\r\n                },\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                    'Authorization': token,\r\n                }\r\n            }).then(function (response) {\r\n\r\n                var newPoints = user.points - product.cost;\r\n                // console.log(newPoints);\r\n                var newUser = { ...user };\r\n                newUser.points = newPoints;\r\n                setUser(newUser);\r\n                setSuccess(true);\r\n\r\n                setRedeem(true);\r\n\r\n\r\n\r\n\r\n            });\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        // Para obtener mas puntos\r\n        // await axios({\r\n        //     method: 'post',\r\n        //     url: 'https://coding-challenge-api.aerolab.co/user/points',\r\n        //     data: {\r\n        //         'amount': 5000,\r\n        //     },\r\n        //     headers: {\r\n        //         'Content-Type': 'application/json',\r\n        //         'Accept': 'application/json',\r\n        //         'Authorization': token,\r\n        //     }\r\n        // }).then(function (response) {\r\n        //     // var newUser = { ...user };\r\n        //     // newUser.points = user.points;\r\n        //     // setUser(newUser);\r\n\r\n        // });\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n\r\n        <React.Fragment>\r\n\r\n        <div>\r\n\r\n\r\n\r\n        { (user.points < product.cost) &&\r\n\r\n                <div className='card__inactive card__item'    >\r\n\r\n                    <div className=\"card__details\">\r\n\r\n                        <div className=\"card__points\"><h3>{product.cost} </h3> <img src={money}></img></div>\r\n\r\n                        <button disabled >You can´t redeem</button>\r\n                        <p className=\"alert__points\"> You need { (product.cost - user.points) } points</p>\r\n\r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n\r\n        }\r\n\r\n        { (user.points >= product.cost) &&\r\n\r\n                    <div className='card__active card__item' onClick={(e) => redeemProduct(e)}   >\r\n\r\n                { !redeem &&\r\n\r\n                    <div className=\"card__details\">\r\n\r\n                            <div className=\"card__points\"><h3>{product.cost} </h3> <img src={money}></img></div>\r\n\r\n                        <button >Reedem now</button>\r\n\r\n                    </div>\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n                </div>\r\n        }\r\n        </div>\r\n        </React.Fragment>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ProductsCard;","import React, { useState, useContext, useEffect, useRef, createRef   } from 'react';\r\nimport './Products.css';\r\nimport defaultImg from '../../assets/img/default.png';\r\nimport { UserContext } from '../../providers/UserProvider';\r\n\r\nimport ProductsCard from '../ProductsCard/ProductsCard';\r\nimport { TimelineLite, TweenLite, TweenMax, gsap } from \"gsap/all\";\r\nimport { CSSPlugin } from 'gsap/CSSPlugin';\r\nimport Img from 'react-image';\r\n// Force CSSPlugin to not get dropped during build\r\ngsap.registerPlugin(CSSPlugin);\r\n\r\n\r\n\r\nconst axios = require('axios');\r\n\r\n\r\n const Products = ({ productsState, animateProduct }) => {\r\n\r\n    const [user, setUser] = useContext(UserContext);\r\n\r\n    const itemRefs = useRef([...productsState].map(() => createRef()));\r\n\r\n    const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE';\r\n\r\n    const pageLimit = 10;\r\n\r\n    const [showCard, setShowCard] = useState(false);\r\n    const [productKey, setProductKey] = useState(\"\");\r\n    const successCard = useRef();\r\n\r\n    const [pointsUpdate, setPointsUpdate] = useState(false);\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (pointsUpdate !== false) {\r\n            showSuccess();\r\n            console.log('User points updated:' + user.points);\r\n        }else{\r\n            console.log('User points not updated:' + user.points);\r\n        }\r\n\r\n    }, [user])\r\n\r\n     const showReddemOption = (product, event) => {\r\n         setShowCard(true);\r\n         setProductKey(product._id);\r\n\r\n\r\n     };\r\n\r\n     const hideReddemOption = (product, event) => {\r\n         setShowCard(false);\r\n         setProductKey(product._id);\r\n\r\n     };\r\n\r\n\r\n\r\n    function loadDefaultImage(){\r\n\r\n        return (\r\n            <img className=\"products__default\" src={defaultImg}  ></img>\r\n        )\r\n    }\r\n\r\n    function showSuccess(){\r\n        // e.preventDefault();\r\n\r\n        successCard.current.style.pointerEvents = 'all';\r\n        TweenMax.to(successCard.current, 0.5, { opacity: 1 });\r\n\r\n        setTimeout(() => {\r\n          hideSuccess();\r\n\r\n        }, 3000);\r\n\r\n    }\r\n\r\n    function hideSuccess() {\r\n        successCard.current.style.pointerEvents = 'none';\r\n        TweenMax.to(successCard.current, 0.5, { opacity: 0 , onComplete: function () {}  });\r\n    }\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n\r\n\r\n\r\n        <ul className=\"products\" >\r\n\r\n\r\n            <div className=\"success \" onClick={(e) => { e.preventDefault(); hideSuccess();}} ref={successCard}> <h1>Product Redeem! <br/> You have now {user.points} points</h1></div>\r\n\r\n\r\n\r\n\r\n            {\r\n                productsState.map((product,i) => (\r\n\r\n\r\n\r\n\r\n                    <React.Fragment key={product._id} >\r\n\r\n                        <li className='products__item' onClick={(e) => {  setPointsUpdate(true); }} onMouseEnter={(e) => showReddemOption(product, e)} onMouseLeave={(e) => hideReddemOption(product, e)}  >\r\n\r\n                             {showCard && productKey === product._id &&\r\n                                <ProductsCard  product={product}   />\r\n\r\n                            }\r\n                                <div className=\"message\" ref={itemRefs.current[product._id]}   ></div>\r\n                                <div className=\"products__details\">\r\n                                <figure>\r\n\r\n                                    <Img src={product.img.url} className=\"products__img scale-in-center\" unloader={ loadDefaultImage() } />\r\n\r\n\r\n\r\n                                </figure>\r\n\r\n\r\n                                <div className=\"products__title \"  >\r\n                                        <p>{product.category}</p>\r\n                                        <h3>{product.name}</h3>\r\n                                        <p><b>{product.cost}</b> points</p>\r\n                                </div>\r\n\r\n\r\n\r\n\r\n\r\n                                </div>\r\n\r\n                            </li>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    </React.Fragment>\r\n\r\n            ))\r\n\r\n\r\n            }\r\n\r\n        </ul>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default Products;","import React, { useState, createContext, useEffect } from 'react'\r\n\r\nconst axios = require('axios');\r\n\r\nconst token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE';\r\n\r\n\r\nexport const ProductContext = createContext(null);\r\n\r\nexport const ProductProvider = props => {\r\n\r\n    const [products, setProducts] = useState([ ]);\r\n\r\n\r\n\r\n    const fetchProduct = async () => {\r\n        const result = await axios(\r\n            'https://coding-challenge-api.aerolab.co/products',\r\n            {\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Accept': 'application/json',\r\n                    'Authorization': token,\r\n\r\n                },\r\n            }\r\n        );\r\n        const data = await result.data;\r\n        setProducts(data);\r\n\r\n\r\n    };\r\n\r\n    useEffect(() => { fetchProduct(); }, []);\r\n\r\n\r\n\r\n    return (\r\n\r\n        <ProductContext.Provider value={[products, setProducts]}>\r\n            {props.children}\r\n\r\n        </ProductContext.Provider>\r\n\r\n    );\r\n}","import React, { useState, useContext, useEffect } from 'react';\r\nimport { ProductContext } from './providers/ProductProvider';\r\n\r\nconst ItemsNumber = ({allItems, currentItems}) => {\r\n\r\n    const [products, setProducts] = useContext(ProductContext);\r\n\r\n\r\n\r\n    return (\r\n\r\n\r\n        <p>{ currentItems } of { allItems } products </p>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default ItemsNumber;","import React, { useState, useContext } from 'react';\r\n\r\n\r\nconst Banner = (props) => {\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className=\"banner\">\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}\r\n\r\nexport default Banner;","import React, { useState, useEffect, useContext, useCallback } from 'react'\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport Products from './components/Products/Products';\nimport ItemsNumber from './ItemsNumber';\nimport Banner from './Banner';\n\n\nimport { UserProvider } from './providers/UserProvider';\nimport { ProductProvider } from './providers/ProductProvider';\n\n\n\nimport { TimelineLite, CSSPlugin } from \"gsap/all\";\n\nconst axios = require('axios');\n\nconst App = (props) => {\n\n\n\n          const [products, setProducts] = useState([]);\n\n          const token = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTJiNjY4ODVjMmY5ODAwNmQ0YzQ4YjIiLCJpYXQiOjE1Nzk5MDI2MDB9.ur63hbTPSUo4-JsdQc7d9ldLFW-IGuJkSnRjm0mo2VE';\n\n          const pageLimit = 10;\n\n          const [filterActive, setFilterActive] = useState(\"recent\");\n\n\n\n\n          const [items, setItems] = useState(pageLimit);\n          const [action, setAction] = useState(\"\");\n          const [nextDisabled, setNextDisabled] = useState(false);\n          const [prevDisabled, setPrevDisabled] = useState(true);\n\n          const [currentPage, setCurrentPage] = useState(1);\n          const [currentData, setCurrentData] = useState([]);\n\n          // animations state\n          const [animateProduct, setAnimateProduct] = useState(false);\n\n\n\n\n          useEffect(() => {\n            getProducts();\n\n\n          }, []);\n\n          useEffect(() => {\n            var total = products.slice((currentPage * pageLimit) - pageLimit, currentPage * pageLimit);\n            setCurrentData(total);\n\n\n\n          }, [ currentPage, products]);\n\n\n\n\n\n          const changePage = async (direction, event) =>{\n\n\n            var numbersOfProducts = currentData.length;\n              if (direction == 'prev') {\n\n                setAction(\"prev\");\n                if (numbersOfProducts > 0) {\n\n                  setItems(items - numbersOfProducts);\n\n                  setCurrentPage(currentPage - 1);\n                  // console.log(items);\n                }\n\n\n              }\n\n              if (direction == 'next') {\n\n                setAction(\"next\");\n\n                if (numbersOfProducts > 0) {\n                  setCurrentPage(currentPage + 1);\n                }\n\n\n\n              }\n\n\n\n          }\n\n          useEffect(() => {\n\n            // Get the real value of currentData\n            var numbersOfProducts = currentData.length;\n            if (numbersOfProducts === 0) {\n              setCurrentPage(1);\n            }\n\n            if (action == \"initial\") {\n              setNextDisabled(false);\n              setPrevDisabled(true);\n            }\n\n            if (action === \"next\") {\n              var total = items + numbersOfProducts;\n              setItems(total);\n              if (total === products.length) {\n                    setNextDisabled(true);\n\n              }else{\n\n                    setPrevDisabled(false);\n              }\n            }\n\n            if (action === \"prev\"){\n              if( items <= pageLimit) {\n                      setPrevDisabled(true);\n                      setNextDisabled(false);\n              }else{\n                setPrevDisabled(false);\n                setNextDisabled(false);\n              }\n            }\n\n            const t2 = new TimelineLite({ paused: false });\n            t2.set(document.getElementsByClassName('products__item'), { autoAlpha: 0, y: -20 });\n            t2.staggerTo(document.getElementsByClassName('products__item'), 1, { autoAlpha: 1, y: 0 }, 0.1);\n\n\n          }, [currentData])\n\n\n\n\n\n          const getProducts = async () => {\n\n            const result = await axios(\n              'https://coding-challenge-api.aerolab.co/products',\n              {\n                headers: {\n                  'Content-Type': 'application/json',\n                  'Accept': 'application/json',\n                  'Authorization': token,\n\n                },\n              }\n            );\n            const data = await result.data;\n            setAction(\"initial\");\n            setFilterActive(\"recent\");\n            setCurrentPage(1);\n            setItems(pageLimit);\n            setProducts(data);\n\n\n          }\n\n\n\n\n\n          const getLowerPrice = event => {\n            const newProducts = [...products].sort((a, b) => {\n              return a.cost - b.cost;\n            });\n            setAction(\"initial\");\n            setFilterActive(\"lower\");\n            setCurrentPage(1);\n            setItems(pageLimit);\n            setProducts(newProducts);\n\n            setAnimateProduct(true);\n\n\n\n\n\n          };\n\n          const getHighestPrice = event => {\n            const newProducts = [...products].sort((a, b) => {\n              return b.cost - a.cost;\n            });\n            setAction(\"initial\");\n            setFilterActive(\"highest\");\n            setCurrentPage(1);\n            setItems(pageLimit);\n            setProducts(newProducts);\n\n          };\n\n\n          return (\n\n            <UserProvider>\n\n              <ProductProvider>\n\n\n\n\n                    <div className=\"App\">\n                        <Nav/>\n                        <Banner/>\n                        <main>\n                        <section className=\"container\">\n                            <ul className=\"container__search\">\n                                <li><ItemsNumber allItems={ products.length } currentItems={ items } /></li>\n                                <li>\n                                  <div className=\"container__filters\">\n                                    <p>Sort by: </p>\n                                    <ul>\n                                      {  filterActive === \"recent\" &&\n\n                                      <li className=\"active jello-horizontal disabled\" onClick={getProducts} >Most Recent</li>\n                                      }\n                                      {\n                                          filterActive != \"recent\" &&\n\n                                      <li className=\"hvr-grow\" onClick={getProducts} >Most Recent</li>\n                                      }\n\n                                      {filterActive === \"lower\" &&\n\n                                      <li className=\"active jello-horizontal disabled\" onClick={getLowerPrice}  >Lower Price</li>\n                                      }\n                                      {\n                                        filterActive != \"lower\" &&\n\n                                      <li className=\"hvr-grow\" onClick={getLowerPrice}  >Lower Price</li>\n                                      }\n\n\n                                      {filterActive === \"highest\" &&\n\n                                      <li className=\"active jello-horizontal disabled\" onClick={getHighestPrice} >Highest Price</li>\n                                      }\n                                      {\n                                        filterActive != \"highest\" &&\n\n                                      <li className=\"hvr-grow\" onClick={getHighestPrice} >Highest Price</li>\n                                      }\n\n\n                                    </ul>\n                                  </div>\n                                  <ul className=\"pagination\">\n                            <button disabled={prevDisabled} className={prevDisabled ? 'hidden arrow round' : 'arrow round '} onClick={(e) => changePage(\"prev\", e)} >&#8249;</button>\n                            <button disabled={nextDisabled} className={nextDisabled ? 'hidden arrow round' : 'arrow round'} onClick={(e) => changePage(\"next\", e)} >&#8250;</button>\n                                  </ul>\n                                </li>\n                              </ul>\n\n\n\n                      <Products className=\"hvr-grow\" productsState={currentData} animation={animateProduct} />\n\n\n\n\n                        <ul className=\"footer\">\n                        <li> <p>{items} of {products.length} products </p> </li>\n                                  <li>\n                                    <ul className=\"pagination\">\n\n                            <button disabled={prevDisabled} className={prevDisabled ? 'hidden arrow round' : 'arrow round' } onClick={(e) => changePage(\"prev\", e)} >&#8249;</button>\n                            <button disabled={nextDisabled} className={nextDisabled ? 'hidden arrow round' : 'arrow round'} onClick={(e) => changePage(\"next\", e)} >&#8250;</button>\n                                    </ul>\n                                  </li>\n                        </ul>\n\n\n\n                          </section>\n\n                        </main>\n\n\n                    </div>\n\n               </ProductProvider>\n\n            </UserProvider>\n          );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/money.dec62e66.svg\";"],"sourceRoot":""}